{% extends 'account/index.html.twig' %}

{% block title %}Listing
{% endblock %}

{% block stylesheets %}
<style>
    .btn {
        style="margin-rigth:15px"
    }

    .card-img-top {
        width: 100%;
    }
</style>

{% endblock %}
{% block content %}
{# <div id="listing-users"> #}
{{ form_start(form, {'attr': {'id': 'form_search_user'}}) }}
<h4 class="search">Filtres</h4>
<div class="row">
    <div class="col-4">
        {{ form_row(form.homeType) }}
    </div>
    <div class="col-4">
        {{ form_row(form.homeDetails) }}
    </div>
    <div class="col-4">
        {{ form_row(form.duringWork) }}
    </div>

    <div class="col-lg-12 text-center">
        <div class="btn-group">
            {{ form_row(form.submit) }}
            {{ form_row(form.reinitialiser) }}
        </div>
    </div>
</div>
{{ form_end(form) }}
{# </div> #}
<div class="row">
    {% for user in users %}
    <div class="card" style="width: 15rem;">
        <img class="card-img-top" src="{{asset('uploads/user-pictures/' ~ user.imageName)}}" alt="Card image cap">
        <div class="card-body">
            <h5 class="card-title">{{user.email}}</h5>
            <p class="card-text"></p>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">Cras justo odio</li>
            <li class="list-group-item">Dapibus ac facilisis in</li>
        </ul>
        <div class="card-body">
            <a href="#" class="card-link">Disponibilité</a>
            <a href="#" class="card-link">Expé / Avis</a>
        </div>
    </div>

    {% else %}
    <div class="card">
        <div class="card-body">
            <p>Merci de faire votre recherche pour afficher la liste</p>
        </div>
    </div>
    {% endfor %}
</div>
{# </div> #}

{% endblock %}


{% block javascripts %}
{{ parent() }}
<script>
    $(document).ready(function () {

        var Filter = {

            init: function () {

                Filter.reinitialisation = $("#reinitialiser");
                Filter.searchUsers();

            },

            searchUsers: function () {

                Filter.reinitialisation.on('click', function () {
                    $('input[type =radio]').val('');
                    $('input[type =checkbox]').val('');
                    window.location.reload();
                });
            }

        };

        $(function () {
            Filter.init();
        });
    });
</script>

{% endblock %}